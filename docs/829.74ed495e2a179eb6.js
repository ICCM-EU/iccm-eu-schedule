"use strict";(self.webpackChunkiccm_eu_schedule=self.webpackChunkiccm_eu_schedule||[]).push([[829],{1829:(_,c,s)=>{s.r(c),s.d(c,{CountdownTimerModule:()=>M});var u=s(5736),l=s(2678),g=s(9992),e=s(4650),p=s(9358),a=s(6895),m=s(4859),h=s(7676),C=s(7510),b=s(3238),f=s(433);function v(o,r){if(1&o&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Udp("background-color",t.color.secondary),e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function T(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"span",14),e._uU(2),e.ALo(3,"date"),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"span",15),e._uU(6),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.AsE(" ",e.xi3(3,3,t.schedule,"HH:mm"),"-",e.xi3(4,6,t.end,"HH:mm"),": "),e.xp6(4),e.hij(" ",t.title," ")}}function y(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",12),e.YNc(2,T,7,9,"ng-container",13),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(2),e.Q6J("ngIf",t)}}function x(o,r){if(1&o&&(e.TgZ(0,"div",12)(1,"span",14),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",15),e._uU(5),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.xi3(3,2,t.schedule,"HH:mm"),": "),e.xp6(3),e.hij(" ",t.title," ")}}function w(o,r){if(1&o&&(e.ynx(0),e.YNc(1,x,6,5,"div",16),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t)}}const A=[{path:"",component:(()=>{class o{constructor(t,n){this.sds=t,this.renderer=n,this.objName="events",this.timerDisplay={timerCssClass:"",timerString:""},this.filterstring="",this.renderer.setStyle(document.body,"background-color","black"),this.counterFontSize="180px"}ngOnInit(){this.sds.eventsUpdated.subscribe(t=>{this.events=t}),this.sds.eventsUpdated.emit(this.sds.transformJsonToEventInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheName(this.objName)]||"[]"))),this.sds.byRoomUpdated.subscribe(t=>{void 0!==t&&(this.roomList=t)}),this.sds.byRoomUpdated.emit(this.sds.transformJsonToEventRoomInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheByRoomName(this.objName)]||"[]"))),this.sds.timerEventUpdated.subscribe(t=>{let n;if(null!=t){for(const d of t)null!=d&&d.currentEvents&&(d.currentEvents.forEach(i=>{i&&i.end&&(void 0===n||n.getTime()>i.end.getTime())&&(n=i.end)}),void 0===n&&d.nextEvents.forEach(i=>{i&&i.schedule&&(void 0===n||n.getTime()>i.schedule.getTime())&&(n=i.schedule)}));this.timerDisplay=g.R.getTimerDisplay(n,this.sds)}}),this.sds.timerEventUpdated.emit(this.sds.transformJsonToEventTimerInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheForNextEvent(this.objName)]||"[]"))),this.sds.filterUpdated.subscribe(t=>{if(null!=t)for(const n of t)this.filterstring=null!=n&&""!==n?n:"All Rooms"}),this.sds.filterUpdated.emit(JSON.parse(localStorage[this.sds.ssIDs.getCacheForFilter(this.objName)]||"[]")),this.sds.startTimer(),this.counterFontSize=this.getCounterFontSize(window.innerWidth)}refresh(){this.sds.triggerSheetDataUpdate(this.objName)}onResize(t){this.counterFontSize=this.getCounterFontSize(t)}getCounterFontSize(t){return t||(t=0),(t-=70)<96&&(t=96),Math.floor(1.5*t/12)+"px"}updateFilter(t){this.sds.updateFilter(t,this.objName)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.m),e.Y36(e.Qsj))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-countdown-timer"]],decls:19,vars:15,consts:[[1,"container"],[1,"toprow"],[1,"toprow-buttons"],["routerLink","/","mat-raised-button","",1,"btn","btn-primary"],["mat-raised-button","",1,"md-raised","md-cornered",3,"click"],[1,"toprow-room"],["placeholder","All Rooms","name","roomFilter",3,"ngModel","selectionChange"],[3,"value"],[3,"background-color","value",4,"ngFor","ngForOf"],[1,"counter"],[4,"ngFor","ngForOf"],[3,"resize"],[1,"event-details"],[4,"ngIf"],[1,"event-time"],[1,"event-title"],["class","event-details",4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e._uU(4,"List"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.refresh()}),e._uU(6,"Refresh Events"),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"mat-form-field")(10,"mat-select",6),e.NdJ("selectionChange",function(i){return n.updateFilter(i.value)}),e.TgZ(11,"mat-option",7),e._uU(12,"All Rooms"),e.qZA(),e.YNc(13,v,2,4,"mat-option",8),e.qZA()()()(),e.TgZ(14,"div",9),e.YNc(15,y,3,1,"ng-container",10),e.TgZ(16,"div",11),e.NdJ("resize",function(i){return n.onResize(null==i.target?null:i.target.innerWidth)},!1,e.Jf7),e._uU(17),e.qZA(),e.YNc(18,w,2,1,"ng-container",10),e.qZA()()),2&t&&(e.xp6(8),e.hij(" Upcoming in ",n.filterstring," "),e.xp6(2),e.Udp("background-color","dimgray")("color","white"),e.Q6J("ngModel",n.sds.filterByRoom),e.xp6(3),e.Q6J("ngForOf",n.roomList),e.xp6(2),e.Q6J("ngForOf",n.sds.timerEvents.currentEvents),e.xp6(1),e.Gre("central-counter ",n.timerDisplay.timerCssClass,""),e.Udp("font-size",n.counterFontSize),e.xp6(1),e.Oqu(n.timerDisplay.timerString),e.xp6(1),e.Q6J("ngForOf",n.sds.timerEvents.nextEvents))},dependencies:[l.rH,a.sg,a.O5,m.zs,m.lW,h.KE,C.gD,b.ey,f.JJ,f.On,a.uU],styles:[".container[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px;padding-top:10px;font-family:Arial,Helvetica,sans-serif;height:100%;color:#fff}.toprow[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;margin:0;width:100%;min-width:300px}.toprow-buttons[_ngcontent-%COMP%]{display:inline-block;font-family:Arial,Helvetica,sans-serif;border:1px;border-color:#d3d3d3;color:#d3d3d3}.toprow-room[_ngcontent-%COMP%]{display:inline-block;font-family:Arial,Helvetica,sans-serif;color:#d3d3d3;padding-left:15px;padding-right:15px}.counter[_ngcontent-%COMP%]{height:100%;width:90%;min-width:200px;box-align:center}.countdown-10s-uneven[_ngcontent-%COMP%]{border:4px;border-color:red;border-style:solid;background-color:#ff646480}.countdown-10s-even[_ngcontent-%COMP%]{border:4px;border-color:red;border-style:dashed;background-color:#ff646480}.countdown-30s[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ff9b00b3}.countdown-1m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffcd0080}.countdown-3m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffff004d}.countdown-5m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#64ff641a}.countdown-long[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffffff1a}.event[_ngcontent-%COMP%]{border:1px;border-color:#d3d3d3;border-style:solid;margin:5px;padding:5px;min-width:300px!important;font-family:Arial,Helvetica,sans-serif;border-left-width:5px;border-left-color:#d3d3d3;border-left-style:solid;background:rgba(255,255,255,.1)}.event-details[_ngcontent-%COMP%]{margin-left:10px;color:#d3d3d3;vertical-align:middle;text-align:left;font-size:48px;font-family:Arial,Helvetica,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-title[_ngcontent-%COMP%]{font-weight:700}.event-time[_ngcontent-%COMP%]{font-style:italic}.central-counter[_ngcontent-%COMP%]{padding:15px;margin:15px;height:100%;width:100%;text-align:center;vertical-align:middle}.mat-raised-button[_ngcontent-%COMP%]{background-color:#000;border-color:#a9a9a9;border-width:1px;border-style:solid;color:#fff}"]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(A),l.Bz]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[O,u.m]}),o})()}}]);