"use strict";(self.webpackChunkgoogle_sheet_events_list=self.webpackChunkgoogle_sheet_events_list||[]).push([[829],{1829:function(E,p,d){d.r(p),d.d(p,{CountdownTimerModule:function(){return k}});var u=d(5671),b=d(5736),m=d(1823),h=d(7762),T=d(3144),y=d(9992),e=d(5542),x=d(8878),v=d(7423),w=d(4106),Z=d(2135),C=d(2382),A=d(508),g=d(9808);function O(n,i){if(1&n&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&n){var o=i.$implicit;e.Udp("background-color",o.color.secondary),e.Q6J("value",o.name),e.xp6(1),e.hij(" ",o.name," ")}}function M(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",14),e._uU(2),e.ALo(3,"date"),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"span",15),e._uU(6),e.qZA(),e.BQk()),2&n){var o=e.oxw().$implicit;e.xp6(2),e.AsE(" ",e.xi3(3,3,o.schedule,"HH:mm"),"-",e.xi3(4,6,o.end,"HH:mm"),": "),e.xp6(4),e.hij(" ",o.title," ")}}function F(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",12),e.YNc(2,M,7,9,"ng-container",13),e.qZA(),e.BQk()),2&n){var o=i.$implicit;e.xp6(2),e.Q6J("ngIf",o)}}function U(n,i){if(1&n&&(e.TgZ(0,"div",12),e.TgZ(1,"span",14),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",15),e._uU(5),e.qZA(),e.qZA()),2&n){var o=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.xi3(3,2,o.schedule,"HH:mm"),": "),e.xp6(3),e.hij(" ",o.title," ")}}function J(n,i){if(1&n&&(e.ynx(0),e.YNc(1,U,6,5,"div",16),e.BQk()),2&n){var o=i.$implicit;e.xp6(1),e.Q6J("ngIf",o)}}var S=[{path:"",component:function(){var n=function(){function i(o,t){(0,u.Z)(this,i),this.sds=o,this.renderer=t,this.objName="events",this.timerDisplay={timerCssClass:"",timerString:""},this.filterstring="",this.renderer.setStyle(document.body,"background-color","black"),this.counterFontSize="180px"}return(0,T.Z)(i,[{key:"ngOnInit",value:function(){var t=this;this.sds.eventsUpdated.subscribe(function(s){t.events=s}),this.sds.eventsUpdated.emit(this.sds.transformJsonToEventInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheName(this.objName)]||"[]"))),this.sds.byRoomUpdated.subscribe(function(s){void 0!==s&&(t.roomList=s)}),this.sds.byRoomUpdated.emit(this.sds.transformJsonToEventRoomInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheByRoomName(this.objName)]||"[]"))),this.sds.timerEventUpdated.subscribe(function(s){var r=void 0;if(null!=s){var c,l=(0,h.Z)(s);try{for(l.s();!(c=l.n()).done;){var f=c.value;null!=f&&f.currentEvents&&(f.currentEvents.forEach(function(a){a&&a.end&&(void 0===r||r.getTime()>a.end.getTime())&&(r=a.end)}),void 0===r&&f.nextEvents.forEach(function(a){a&&a.schedule&&(void 0===r||r.getTime()>a.schedule.getTime())&&(r=a.schedule)}))}}catch(a){l.e(a)}finally{l.f()}t.timerDisplay=y.R.getTimerDisplay(r,t.sds)}}),this.sds.timerEventUpdated.emit(this.sds.transformJsonToEventTimerInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheForNextEvent(this.objName)]||"[]"))),this.sds.filterUpdated.subscribe(function(s){if(null!=s){var l,r=(0,h.Z)(s);try{for(r.s();!(l=r.n()).done;){var c=l.value;t.filterstring=null!=c&&""!==c?c:"All Rooms"}}catch(f){r.e(f)}finally{r.f()}}}),this.sds.filterUpdated.emit(JSON.parse(localStorage[this.sds.ssIDs.getCacheForFilter(this.objName)]||"[]")),this.sds.startTimer(),this.counterFontSize=this.getCounterFontSize(window.innerWidth)}},{key:"refresh",value:function(){this.sds.triggerSheetDataUpdate(this.objName)}},{key:"onResize",value:function(t){this.counterFontSize=this.getCounterFontSize(t)}},{key:"getCounterFontSize",value:function(t){return t||(t=0),(t-=70)<96&&(t=96),Math.floor(1.5*t/12)+"px"}},{key:"updateFilter",value:function(t){this.sds.updateFilter(t,this.objName)}}]),i}();return n.\u0275fac=function(o){return new(o||n)(e.Y36(x.m),e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-countdown-timer"]],decls:19,vars:15,consts:[[1,"container"],[1,"toprow"],[1,"toprow-buttons"],["routerLink","/","mat-raised-button","",1,"btn","btn-primary"],["mat-raised-button","",1,"md-raised","md-cornered",3,"click"],[1,"toprow-room"],["placeholder","All Rooms","name","roomFilter",3,"ngModel","selectionChange"],[3,"value"],[3,"background-color","value",4,"ngFor","ngForOf"],[1,"counter"],[4,"ngFor","ngForOf"],[3,"resize"],[1,"event-details"],[4,"ngIf"],[1,"event-time"],[1,"event-title"],["class","event-details",4,"ngIf"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"a",3),e._uU(4,"List"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.refresh()}),e._uU(6,"Refresh Events"),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"mat-form-field"),e.TgZ(10,"mat-select",6),e.NdJ("selectionChange",function(r){return t.updateFilter(r.value)}),e.TgZ(11,"mat-option",7),e._uU(12,"All Rooms"),e.qZA(),e.YNc(13,O,2,4,"mat-option",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",9),e.YNc(15,F,3,1,"ng-container",10),e.TgZ(16,"div",11),e.NdJ("resize",function(r){return t.onResize(null==r.target?null:r.target.innerWidth)},!1,e.Jf7),e._uU(17),e.qZA(),e.YNc(18,J,2,1,"ng-container",10),e.qZA(),e.qZA()),2&o&&(e.xp6(8),e.hij(" Upcoming in ",t.filterstring," "),e.xp6(2),e.Udp("background-color","dimgray")("color","white"),e.Q6J("ngModel",t.sds.filterByRoom),e.xp6(3),e.Q6J("ngForOf",t.roomList),e.xp6(2),e.Q6J("ngForOf",t.sds.timerEvents.currentEvents),e.xp6(1),e.Gre("central-counter ",t.timerDisplay.timerCssClass,""),e.Udp("font-size",t.counterFontSize),e.xp6(1),e.Oqu(t.timerDisplay.timerString),e.xp6(1),e.Q6J("ngForOf",t.sds.timerEvents.nextEvents))},directives:[m.yS,v.zs,v.lW,w.KE,Z.gD,C.JJ,C.On,A.ey,g.sg,g.O5],pipes:[g.uU],styles:[".container[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px;padding-top:10px;font-family:Arial,Helvetica,sans-serif;height:100%;color:#fff}.toprow[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;margin:0;width:100%;min-width:300px}.toprow-buttons[_ngcontent-%COMP%]{display:inline-block;font-family:Arial,Helvetica,sans-serif;border:1px;border-color:#d3d3d3;color:#d3d3d3}.toprow-room[_ngcontent-%COMP%]{display:inline-block;font-family:Arial,Helvetica,sans-serif;color:#d3d3d3;padding-left:15px;padding-right:15px}.counter[_ngcontent-%COMP%]{height:100%;width:90%;min-width:200px;box-align:center}.countdown-10s-uneven[_ngcontent-%COMP%]{border:4px;border-color:red;border-style:solid;background-color:#ff646480}.countdown-10s-even[_ngcontent-%COMP%]{border:4px;border-color:red;border-style:dashed;background-color:#ff646480}.countdown-30s[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ff9b00b3}.countdown-1m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffcd0080}.countdown-3m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffff004d}.countdown-5m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#64ff641a}.countdown-long[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffffff1a}.event[_ngcontent-%COMP%]{border:1px;border-color:#d3d3d3;border-style:solid;margin:5px;padding:5px;min-width:300px!important;font-family:Arial,Helvetica,sans-serif;border-left-width:5px;border-left-color:#d3d3d3;border-left-style:solid;background:rgba(255,255,255,.1)}.event-details[_ngcontent-%COMP%]{margin-left:10px;color:#d3d3d3;vertical-align:middle;text-align:left;font-size:48px;font-family:Arial,Helvetica,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-title[_ngcontent-%COMP%]{font-weight:700}.event-time[_ngcontent-%COMP%]{font-style:italic}.central-counter[_ngcontent-%COMP%]{padding:15px;margin:15px;height:100%;width:100%;text-align:center;vertical-align:middle}.mat-raised-button[_ngcontent-%COMP%]{background-color:#000;border-color:#a9a9a9;border-width:1px;border-style:solid;color:#fff}"]}),n}()}],z=function(){var n=function i(){(0,u.Z)(this,i)};return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(S)],m.Bz]}),n}(),k=function(){var n=function i(){(0,u.Z)(this,i)};return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[z,b.m]]}),n}()}}]);