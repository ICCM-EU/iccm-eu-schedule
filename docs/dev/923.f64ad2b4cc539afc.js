"use strict";(self.webpackChunkiccm_eu_schedule=self.webpackChunkiccm_eu_schedule||[]).push([[923],{1923:(M,m,i)=>{i.r(m),i.d(m,{CountdownTimerModule:()=>F});var g=i(4331),l=i(1476),p=i(2671),t=i(9212),h=i(3469),c=i(6814),f=i(2296),b=i(8165),v=i(585),C=i(3680),u=i(95);function y(o,d){if(1&o&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&o){const e=d.$implicit;t.Udp("background-color",e.color.secondary),t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function T(o,d){if(1&o&&(t.ynx(0),t.TgZ(1,"span",14),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"span",15),t._uU(6),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.AsE(" ",t.xi3(3,3,e.schedule,"HH:mm"),"-",t.xi3(4,6,e.end,"HH:mm"),": "),t.xp6(4),t.hij(" ",e.title," ")}}function x(o,d){if(1&o&&(t.ynx(0),t.TgZ(1,"div",12),t.YNc(2,T,7,9,"ng-container",13),t.qZA(),t.BQk()),2&o){const e=d.$implicit;t.xp6(2),t.Q6J("ngIf",e)}}function w(o,d){if(1&o&&(t.TgZ(0,"div",12)(1,"span",14),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"span",15),t._uU(5),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.xi3(3,2,e.schedule,"HH:mm"),": "),t.xp6(3),t.hij(" ",e.title," ")}}function A(o,d){if(1&o&&(t.ynx(0),t.YNc(1,w,6,5,"div",16),t.BQk()),2&o){const e=d.$implicit;t.xp6(1),t.Q6J("ngIf",e)}}const O=[{path:"",component:(()=>{class o{sds;renderer;events;objName;toggleName;showDescriptions;timerDisplay;roomList;filterstring;counterFontSize;constructor(e,n){this.sds=e,this.renderer=n,this.objName="events",this.timerDisplay={timerCssClass:"",timerString:""},this.filterstring="",this.renderer.setStyle(document.body,"background-color","black"),this.counterFontSize="180px"}ngOnInit(){this.sds.eventsUpdated.subscribe(e=>{this.events=e}),this.sds.eventsUpdated.emit(this.sds.transformJsonToEventInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheName(this.objName)]||"[]"))),this.sds.byRoomUpdated.subscribe(e=>{void 0!==e&&(this.roomList=e)}),this.sds.byRoomUpdated.emit(this.sds.transformJsonToEventRoomInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheByRoomName(this.objName)]||"[]"))),this.sds.timerEventUpdated.subscribe(e=>{let n;if(null!=e){for(const r of e)null!=r&&r.currentEvents&&(r.currentEvents.forEach(s=>{s&&s.end&&(void 0===n||n.getTime()>s.end.getTime())&&(n=s.end)}),void 0===n&&r.nextEvents.forEach(s=>{s&&s.schedule&&(void 0===n||n.getTime()>s.schedule.getTime())&&(n=s.schedule)}));this.timerDisplay=p.R.getTimerDisplay(n,this.sds)}}),this.sds.timerEventUpdated.emit(this.sds.transformJsonToEventTimerInterfaceArray(JSON.parse(localStorage[this.sds.ssIDs.getCacheForNextEvent(this.objName)]||"[]"))),this.sds.filterUpdated.subscribe(e=>{if(null!=e)for(const n of e)this.filterstring=null!=n&&""!==n?n:"All Rooms"}),this.sds.filterUpdated.emit(JSON.parse(localStorage[this.sds.ssIDs.getCacheForFilter(this.objName)]||"[]")),this.sds.startTimer(),this.counterFontSize=this.getCounterFontSize(window.innerWidth)}refresh(){this.sds.triggerSheetDataUpdate(this.objName)}onResize(e){this.counterFontSize=this.getCounterFontSize(e)}getCounterFontSize(e){return e||(e=0),(e-=70)<96&&(e=96),Math.floor(1.5*e/12)+"px"}updateFilter(e){this.sds.updateFilter(e,this.objName)}static \u0275fac=function(n){return new(n||o)(t.Y36(h.m),t.Y36(t.Qsj))};static \u0275cmp=t.Xpm({type:o,selectors:[["app-countdown-timer"]],decls:19,vars:15,consts:[[1,"container"],[1,"toprow"],[1,"toprow-buttons"],["routerLink","/","mat-raised-button","",1,"btn","btn-primary"],["mat-raised-button","",1,"md-raised","md-cornered",3,"click"],[1,"toprow-room"],["placeholder","All Rooms","name","roomFilter",3,"ngModel","selectionChange"],[3,"value"],[3,"background-color","value",4,"ngFor","ngForOf"],[1,"counter"],[4,"ngFor","ngForOf"],[3,"resize"],[1,"event-details"],[4,"ngIf"],[1,"event-time"],[1,"event-title"],["class","event-details",4,"ngIf"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t._uU(4,"List"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return r.refresh()}),t._uU(6,"Refresh Events"),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.qZA(),t.TgZ(9,"mat-form-field")(10,"mat-select",6),t.NdJ("selectionChange",function(a){return r.updateFilter(a.value)}),t.TgZ(11,"mat-option",7),t._uU(12,"All Rooms"),t.qZA(),t.YNc(13,y,2,4,"mat-option",8),t.qZA()()()(),t.TgZ(14,"div",9),t.YNc(15,x,3,1,"ng-container",10),t.TgZ(16,"div",11),t.NdJ("resize",function(a){return r.onResize(null==a.target?null:a.target.innerWidth)},!1,t.Jf7),t._uU(17),t.qZA(),t.YNc(18,A,2,1,"ng-container",10),t.qZA()()),2&n&&(t.xp6(8),t.hij(" Upcoming in ",r.filterstring," "),t.xp6(2),t.Udp("background-color","dimgray")("color","white"),t.Q6J("ngModel",r.sds.filterByRoom),t.xp6(3),t.Q6J("ngForOf",r.roomList),t.xp6(2),t.Q6J("ngForOf",r.sds.timerEvents.currentEvents),t.xp6(1),t.Gre("central-counter ",r.timerDisplay.timerCssClass,""),t.Udp("font-size",r.counterFontSize),t.xp6(1),t.Oqu(r.timerDisplay.timerString),t.xp6(1),t.Q6J("ngForOf",r.sds.timerEvents.nextEvents))},dependencies:[l.rH,c.sg,c.O5,f.zs,f.lW,b.KE,v.gD,C.ey,u.JJ,u.On,c.uU],styles:[".container[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px;padding-top:10px;font-family:Arial,Helvetica,sans-serif;height:100%;color:#fff}.toprow[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;margin:0;width:100%;min-width:300px}.toprow-buttons[_ngcontent-%COMP%]{display:inline-block;font-family:Arial,Helvetica,sans-serif;border:1px;border-color:#d3d3d3;color:#d3d3d3}.toprow-room[_ngcontent-%COMP%]{display:inline-block;font-family:Arial,Helvetica,sans-serif;color:#d3d3d3;padding-left:15px;padding-right:15px}.counter[_ngcontent-%COMP%]{height:100%;width:90%;min-width:200px;box-align:center}.countdown-10s-uneven[_ngcontent-%COMP%]{border:4px;border-color:red;border-style:solid;background-color:#ff646480}.countdown-10s-even[_ngcontent-%COMP%]{border:4px;border-color:red;border-style:dashed;background-color:#ff646480}.countdown-30s[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ff9b00b3}.countdown-1m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffcd0080}.countdown-3m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffff004d}.countdown-5m[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#64ff641a}.countdown-long[_ngcontent-%COMP%]{border:4px;border-color:#fff;border-style:solid;background-color:#ffffff1a}.event[_ngcontent-%COMP%]{border:1px;border-color:#d3d3d3;border-style:solid;margin:5px;padding:5px;min-width:300px!important;font-family:Arial,Helvetica,sans-serif;border-left-width:5px;border-left-color:#d3d3d3;border-left-style:solid;background:rgba(255,255,255,.1)}.event-details[_ngcontent-%COMP%]{margin-left:10px;color:#d3d3d3;vertical-align:middle;text-align:left;font-size:48px;font-family:Arial,Helvetica,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-title[_ngcontent-%COMP%]{font-weight:700}.event-time[_ngcontent-%COMP%]{font-style:italic}.central-counter[_ngcontent-%COMP%]{padding:15px;margin:15px;height:100%;width:100%;text-align:center;vertical-align:middle}.mat-raised-button[_ngcontent-%COMP%]{background-color:#000;border-color:#a9a9a9;border-width:1px;border-style:solid;color:#fff}"]})}return o})()}];let Z=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[l.Bz.forChild(O),l.Bz]})}return o})(),F=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[Z,g.m]})}return o})()}}]);